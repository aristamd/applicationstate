!function(e){var t={};function i(s){if(t[s])return t[s].exports;var r=t[s]={i:s,l:!1,exports:{}};return e[s].call(r.exports,r,r.exports,i),r.l=!0,r.exports}i.m=e,i.c=t,i.d=function(e,t,s){i.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:s})},i.r=function(e){Object.defineProperty(e,"__esModule",{value:!0})},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i(i.s=0)}([function(e,t,i){"use strict";i.r(t);class s{static get(e){return e=s._dereferencePath(e),s._resolvePath(e)}static listen(e,t){return s._listeners[e]||(s._listeners[e]=[]),s._listenerKey++,t._listenerKey=s._listenerKey,s._listeners[e].push(t),t._listenerKey}static removeListener(e,t){s._listeners[e]&&s._listeners.forEach((e,i)=>{e._listenerKey==t&&s._listeners.splice(i,1)})}static set(e,t,i){e=s._dereferencePath(e);if(i=Object.assign({notify:!0,exclude_notification_paths:[],exclude_notification_listeners:[],immutable:!1,persist:!0,save_previous:!0},i),s._options[e]=i,!s._previousState[e]&&i.save_previous&&(s._previousState[e]=[]),i.save_previous){let t=s._resolvePath(e);void 0!==t&&s._previousState[e].push(t)}s._assignValue(e,t),s.notify(e,!1,i)}static _assignValue(e,t,i){if(i=i||s._state,e.indexOf(".")<0)return i[e]=t;var r=e.split("."),n=r.pop();s._ensurePath(e,i);var l=s._resolvePath(r,i);return"object"==typeof l?l[n]=t:void 0}static ln(e,t){s._symlinks||(s._symlinks={}),s._reverse_symlinks||(s._reverse_symlinks={}),e=s._dereferencePath(e);let i=t.split("."),r=i.slice(-1);t=s._dereferencePath(i.slice(0,-1).join("."))+"."+r,s._symlinks[t]=e,s._reverse_symlinks[e]||(s._reverse_symlinks[e]=[]),s._reverse_symlinks[e].push(t)}static rm(e,t){t=t||s._state;let i=e;if("app"===e)return;if(!e)return;function r(e,t){let i=s._symlinks[e];if(delete s._symlinks[e],!t){let t=s._reverse_symlinks[i];t.splice(t.indexOf(e),1)}}if(function(e){return!(!s._symlinks||!s._symlinks[e])}(e=s._materializePath(e)))return r(e);(function(e){return!(!s._reverse_symlinks||!s._reverse_symlinks[e])})(e)&&(s._reverse_symlinks[e].forEach(t=>{r(e,!0)}),delete s._reverse_symlinks[e]);let n=e.split("."),l=n.slice(-1)[0];n=n.slice(0,-1);for(let i=0;i<n.length;i++)if(void 0===(t=t[n[i]]))throw new Error("Undefined target in ApplicationState.rm: "+e);delete t[l];let o=s._options[i];o||(o={notify:!0,exclude_notification_paths:[],exclude_notification_listeners:[],immutable:!1,persist:!0,save_previous:!0}),s.notify(i,!1,o)}static _dereferencePath(e){if(!s._symlinks)return e;let t=e.split(".");for(let i=0;i<t.length;i++){let r=t.slice(0,i).join(".");if(s._symlinks[r])return e=s._symlinks[r]+"."+t.slice(i).join("."),s._dereferencePath(e)}return e}static _reverseSymlink(e){if(e.indexOf(".")<0)return[];let t=[],i=[];function r(e){let t=e.split("."),r=t.slice(-1),n=t.slice(0,-1).join(".");s._reverseSymlink(n).forEach(e=>{i.push(e+"."+r)})}return s._reverse_symlinks[e]&&(t=s._reverse_symlinks[e]),t.forEach(e=>{r(e)}),r(e),t.concat(i)}static _materializePath(e){let t=e.split("."),i=t.slice(-1);return s._dereferencePath(t.slice(0,-1).join("."))+"."+i}static _resolvePath(e,t){var i;if(t=t||s._state,"string"==typeof e){if(!e.includes("."))return t[e];i=e.split(".")}else if(!(i=e).length)return t;for(let e=0;e<i.length;e++){if(void 0===(t=t[i[e]]))return;if(null===t)return null}if("object"!=typeof t)return t;let r=Object.keys(t);if(!r.length)return t;let n,l=!0;for(let e=0;e<r.length;e++)if(isNaN(r[e])){l=!1;break}if(l){n=[];for(let e=0;e<r.length;e++)n[parseInt(r[e])]=t[r[e]];return n}return t}static _ensurePath(e,t){var i,r,n=e.split("."),l=t||s._state,o=[];for(i=n.length-1;i>=0&&(r=n.slice(0,i),!(l=s._resolvePath(r,t)));i--)o.push(r[r.length-1]);for(;o.length;){var _=o.pop();l[_]={},l=l[_]}}static notify(e,t,i){function r(e,t,r){if(!i.exclude_notification_listeners.includes(e._listenerKey)){if(t=s._dereferencePath(t),s._previousState[t])return e(s._resolvePath(t),s._previousState[t][s._previousState[t].length-1],r);e(s._resolvePath(t),void 0,r)}}function n(e){if(!s._symlinks)return;s._reverseSymlink(e).forEach(e=>{s._listeners[e]&&(i.exclude_notification_paths.includes(e)||s._listeners[e].forEach(t=>{r(t,e)}))})}s._disable_notification||(t||function(e){if(e.indexOf(".")<0)return;let t=e.split(".");for(let l=t.length-1;l>0;l--){let o=t.slice(0,l).join(".");n(o),s._listeners[o]&&(i.exclude_notification_paths.includes(o)||s._listeners[o].forEach(t=>r(t,o,e)))}}(e),function(e){n(e),s._listeners[e]&&(i.exclude_notification_paths.includes(e)||s._listeners[e].forEach(t=>{r(t,e)}))}(e),t||function e(t){var l=s._resolvePath(t);l&&(Array.isArray(l)||"object"==typeof l&&Object.keys(l).forEach(l=>{var o=t+"."+l;if(n(o),i.exclude_notification_paths.includes(o))return e(o);s._listeners[o]&&s._listeners[o].forEach(e=>r(e,o,t)),e(o)}))}(e))}static undo(e){if(e.indexOf(".")<0)return s._previousState[e]?void(s._state[e]=s._previousState[e].pop()):s._state[e]=void 0;var t=e.split(".");for(let i=t.length;i>0;i--)if(e=t.slice(0,i).join("."),s._state[e]){if(!s._previousState[e])return s._state[e]=void 0;s._state[e]=s._previousState[e].pop()}}static disable_notfication(){s._disable_notification=!0}static enable_notification(){s._disable_notification=!1}}s._previousState={},s._state={},s._listeners=[],s._listenerKey=0,s._options={},t.default=s}]);